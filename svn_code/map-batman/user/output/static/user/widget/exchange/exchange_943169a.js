define("user:widget/exchange/exchange.js",function(i,t,e){var a=i("common:widget/stat/stat.js"),c=i("common:static/js/util.js"),n=i("common:widget/login/login.js"),a=i("common:widget/stat/stat.js");e.exports={init:function(i){this.initData(i),this.bindEvent(),this.checkState(),a.addCookieStat(STAT_CODE.STAT_USER_EXCHANGE_SHOW)},bindEvent:function(){$(".exchange-gogift").on("click",$.proxy(this._exchangeGift,this)),$(".gift_loadmore").on("click",$.proxy(this._loadMoreComment,this))},_exchangeGift:function(){var i=this;c.isAndroid()?i.getNativeInfo("com.baidu.BaiduMap",function(i){location.href=0==i.error?"bdapp://map/":"http://mo.baidu.com/d/map/1321/bmap_andr_1321.apk"},function(){location.href="http://mo.baidu.com/d/map/1321/bmap_andr_1321.apk"}):location.href=c.isIPhone()?"http://itunes.apple.com/cn/app/id452186370":c.isIPad()?"https://itunes.apple.com/cn/app/bai-du-de-tuhd/id553771681":"http://mo.baidu.com/map"},checkState:function(){n.checkLogin(function(i){i.status||n.loginAction()})},initData:function(i){$(".user").remove(),$(".common-widget-footer a").css("width","48%"),this.cacheData=i,this.clickMore=0},_loadMoreComment:function(){var i=$(".gift_loadmore")[0];i.innerText,this.clickMore=this.clickMore+1,this.displayMore(this.cacheData)},displayMore:function(i){var t=10*this.clickMore,e=t+10,a=i.list.length;if(t>=a)return $(".gift_loadmore").remove(),void 0;e>=a&&(e=a,$(".gift_loadmore").remove()),div=$(".exchange-gift");for(var i=i.list,c=t;e>c;c++){ul=$("<ul></ul>");var n="",s="",o=$("<li class='exchange-gift-list1'></li>");if(n+='<div class="exchange-gift-img"><img src="'+i[c].pic_url+'"></div>',n+='<div class="exchange-gift-contain">',n+='<div class="exchange-gift-title">'+i[c].title+"</div>",n+='<div class="exchange-gift-des">'+i[c].description+"</div>",n+='<div class="exchange-gift-all">总量'+i[c].total_num+"件 剩余"+(i[c].total_num-i[c].exchange_num)+"</data>",n+='<div class="exchange-gift-buy">兑换（-'+i[c].need_integral+"积分)</div></div>",o.html(n),c+=1,c!=a){var d=$("<li class='exchange-gift-list2'></li>");s+='<div class="exchange-gift-img"><img src="'+i[c].pic_url+'"></div>',s+='<div class="exchange-gift-contain">',s+='<div class="exchange-gift-title">'+i[c].title+"</div>",s+='<div class="exchange-gift-des">'+i[c].description+"</div>",s+='<div class="exchange-gift-all">总量'+i[c].total_num+"件 剩余"+(i[c].total_num-i[c].exchange_num)+"</data>",s+='<div class="exchange-gift-buy">兑换（-'+i[c].need_integral+"积分)</div></div>"}else{var d=$("<li class='exchange-gift-list2' style='visibility:hidden;'></li>");s+='<div class="exchange-gift-img"><img src=""></div>',s+='<div class="exchange-gift-contain">',s+='<div class="exchange-gift-title">索尼数码相机</div>',s+='<div class="exchange-gift-des">索尼数码相机（颜色随机）</div>',s+='<div class="exchange-gift-all">总量5件 剩余5',s+='<div class="exchange-gift-buy">兑换（-10600积分)</div>',s+="</div></div>"}d.html(s),ul.append(o).append(d),div.append(ul)}},getNativeInfo:function(i,t,e){var a="http://127.0.0.1:6259/getpackageinfo?packagename="+i;$.ajax({url:a,dataType:"jsonp",success:t,error:e})}}});