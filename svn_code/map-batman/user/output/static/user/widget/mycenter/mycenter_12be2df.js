define("user:widget/mycenter/mycenter.js",function(t,e,i){var c=t("common:widget/stat/stat.js"),o=(t("common:static/js/util.js"),t("common:widget/login/login.js")),c=(t("common:widget/cookie/cookie.js"),t("common:widget/stat/stat.js"));i.exports={init:function(t){this.initData(t),this.checkState(),this.bindEvent(),c.addCookieStat(STAT_CODE.STAT_USER_MYCENTER_SHOW)},bindEvent:function(){$("#logout").on("click",$.proxy(this._logout,this)),$(".mycenter_loadmore").on("click",$.proxy(this._loadMoreComment,this))},_logout:function(){o.logoutAction()},checkState:function(){o.checkLogin(function(t){t.status||o.loginAction()})},initData:function(t){$(".user").remove(),$(".common-widget-footer a").css("width","48%"),this.cacheData=t,this.clickMore=0},_loadMoreComment:function(){var t=$(".mycenter_loadmore")[0],e=t.innerText;"足迹加载中..."!=e&&(t.innerText="足迹加载中...",this.clickMore=this.clickMore+1,this.displayMore(this.cacheData),t.innerText="加载更多足迹信息")},displayMore:function(t){ul=$(".mycenter-mytrace-ul ul");var e=10*this.clickMore,i=e+10;if(e>=t.list.length)return $(".mycenter_loadmore").remove(),void 0;i>=t.list.length&&(i=t.list.length,$(".mycenter_loadmore").remove());for(var c=2*this.clickMore;i>c;c++)for(var o=0;o<t.list[c].list.length;o++){var n="",s=$("<li class='mycenter-mytrace-list'></li>");n+='<div class="mycenter-mytrace-point"></div>',n+='<div class="mycenter-mytrace-data mycenter-mytrace-height">'+t.list[c].visitTime+"</div>",n+='<div class="mycenter-mytrace-shop mycenter-mytrace-height">'+t.list[c].name+"</div>",n+='<div class="mycenter-mytrace-address mycenter-mytrace-height">',n+='<div class="mycenter-mytrace-address-logo"></div>',n+='<div class="mycenter-mytrace-address-con">'+t.list[c].address+"</div></div>",n+='<div class="mycenter-mytrace-comment  mycenter-mytrace-height">',n+='<div class="mycenter-mytrace-comment-logo"></div>',n+='<div class="mycenter-mytrace-comment-con">'+(t.list[c].list[o].content?t.list[c].list[o].content:"&nbsp;")+"</div></div>",s.html(n),ul.append(s)}}}});