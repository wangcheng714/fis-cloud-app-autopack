define("place:widget/groupon/groupon.js",function(a,e,o){function t(a){"use strict";var e=$(a.target).closest("ul").attr("url"),o=$(".place-widget-groupon-site").text();r.addStat(STAT_CODE.PLACE_GROUPON_CLICK,{wd:s.wd,name:s.name,dest:o,srcname:s.srcname}),window.open(e),a.stopPropagation(),a.stopImmediatePropagation()}function i(a){var e=c.html()-0;d.hasClass("place-widget-groupon-disable")&&d.removeClass("place-widget-groupon-disable"),l.hasClass("place-widget-groupon-disable")||(d.on("click",n),p.hide(),p.eq(e-2).show(),c.html(e-1),0==e-2&&(l.addClass("place-widget-groupon-disable"),l.off("click",i))),a.stopPropagation(),a.stopImmediatePropagation()}function n(a){var e=c.html()-0,o=g.html()-0;l.hasClass("place-widget-groupon-disable")&&l.removeClass("place-widget-groupon-disable"),d.hasClass("place-widget-groupon-disable")||(l.on("click",i),p.hide(),p.eq(e).show(),c.html(e+1),e+1==o&&(d.addClass("place-widget-groupon-disable"),d.off("click",n))),a.stopPropagation(),a.stopImmediatePropagation()}var s,p=$(".place-widget-groupon-main"),l=$(".place-widget-groupon-pagenum-prev"),d=$(".place-widget-groupon-pagenum-next"),c=$(".place-widget-groupon-curpage"),g=$(".place-widget-groupon-totalpage"),r=a("common:widget/stat/stat.js");o.exports={init:function(a){"use strict";var e=g.html()-0;s=a||{},p.on("click",t),e>1&&(l.on("click",i),d.on("click",n)),r.addStat(STAT_CODE.PLACE_GROUPON_VIEW,{wd:s.wd,name:s.name,srcname:s.srcname})}}});